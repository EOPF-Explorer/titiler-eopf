# TiTiler EOPF Cache Configuration Example

# Basic application settings
TITILER_EOPF_API_NAME="TiTiler EOPF with Cache"
TITILER_EOPF_API_DEBUG=false

# Data store configuration (required)
TITILER_EOPF_STORE_URL="s3://your-eopf-data-bucket"

# Cache System Configuration
# Enable/disable caching
TITILER_EOPF_CACHE_ENABLE=true

# Cache backend type: redis, s3, or s3-redis
TITILER_EOPF_CACHE_BACKEND=s3-redis

# Cache namespace (prefix for all cache keys)
TITILER_EOPF_CACHE_NAMESPACE=titiler-eopf

# Default TTL values (in seconds)
TITILER_EOPF_CACHE_DEFAULT_TTL=3600    # 1 hour
TITILER_EOPF_CACHE_TILE_TTL=86400      # 24 hours for tiles
TITILER_EOPF_CACHE_METADATA_TTL=300    # 5 minutes for metadata

# Redis Configuration (for redis or s3-redis backends)
TITILER_EOPF_CACHE_REDIS_HOST=your-redis-host
TITILER_EOPF_CACHE_REDIS_PORT=6379
TITILER_EOPF_CACHE_REDIS_PASSWORD=your-redis-password
TITILER_EOPF_CACHE_REDIS_DB=0
TITILER_EOPF_CACHE_REDIS_TTL=3600

# S3 Cache Configuration (for s3 or s3-redis backends)
TITILER_EOPF_CACHE_S3_BUCKET=your-cache-bucket
TITILER_EOPF_CACHE_S3_PREFIX=tiles/
TITILER_EOPF_CACHE_S3_REGION=eu-west-1
TITILER_EOPF_CACHE_S3_ACCESS_KEY_ID=your-access-key
TITILER_EOPF_CACHE_S3_SECRET_ACCESS_KEY=your-secret-key
TITILER_EOPF_CACHE_S3_ENDPOINT_URL=https://your-s3-endpoint

# Cache behavior settings
TITILER_EOPF_CACHE_EXCLUDE_PARAMS=format,callback,buffer
TITILER_EOPF_CACHE_CACHE_PATHS=/tiles/,/tilejson.json,/preview,/crop/,/statistics,/info.json

# Example production configuration using S3+Redis:
# This provides the best performance with Redis for metadata and S3 for tile storage
# 
# TITILER_EOPF_CACHE_ENABLE=true
# TITILER_EOPF_CACHE_BACKEND=s3-redis
# TITILER_EOPF_CACHE_REDIS_HOST=cache-cluster.abc123.cache.amazonaws.com
# TITILER_EOPF_CACHE_S3_BUCKET=eopf-tile-cache
# TITILER_EOPF_CACHE_S3_REGION=eu-west-1
# TITILER_EOPF_CACHE_TILE_TTL=604800  # 7 days for tiles
# TITILER_EOPF_CACHE_METADATA_TTL=1800  # 30 minutes for metadata

# Example Redis-only configuration (for development):
# 
# TITILER_EOPF_CACHE_ENABLE=true
# TITILER_EOPF_CACHE_BACKEND=redis
# TITILER_EOPF_CACHE_REDIS_HOST=localhost
# TITILER_EOPF_CACHE_REDIS_PORT=6379

# Example S3-only configuration (for cost-optimized setups):
# 
# TITILER_EOPF_CACHE_ENABLE=true
# TITILER_EOPF_CACHE_BACKEND=s3
# TITILER_EOPF_CACHE_S3_BUCKET=eopf-tile-cache
# TITILER_EOPF_CACHE_S3_REGION=eu-west-1