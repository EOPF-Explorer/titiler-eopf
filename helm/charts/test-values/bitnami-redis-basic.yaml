# Test configuration: Basic Bitnami Redis deployment
nameOverride: "test-basic"

# Enable cache system with internal Bitnami Redis
cache:
  enabled: true
  backend: "s3-redis"
  
  # TTL settings for testing
  ttl:
    default: 3600  # 1 hour
    metadata: 7200  # 2 hours
  
  # Use internal Redis (Bitnami)
  redis:
    internal:
      enabled: true
    external:
      enabled: false
  
  # S3 configuration
  s3:
    enabled: true
    bucket: "test-titiler-cache"
    region: "us-east-1"
    auth:
      access_key_id: "test-access-key"
      secret_access_key: "test-secret-key"

# Production-ready Bitnami Redis
redis:
  enabled: true
  architecture: standalone
  
  auth:
    enabled: true
    # password will be auto-generated
    
  master:
    persistence:
      enabled: false  # For testing
    
    resources:
      requests:
        cpu: 100m
        memory: 128Mi
      limits:
        cpu: 500m
        memory: 256Mi
    
    # Security
    podSecurityContext:
      enabled: true
      fsGroup: 1001
    
    containerSecurityContext:
      enabled: true
      runAsUser: 1001
      runAsNonRoot: true

# Application settings
env: