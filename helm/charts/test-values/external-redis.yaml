# Test configuration: External Redis (backward compatibility)
nameOverride: "test-external"

# Enable cache with external Redis
cache:
  enabled: true
  backend: "s3-redis"
  
  redis:
    internal:
      enabled: false
    external:
      enabled: true
      host: "redis-cluster.data.svc.cluster.local"
      port: 6379
      database: 0
      auth:
        enabled: true
        existingSecret: "redis-credentials"
        existingSecretKey: "password"
  
  s3:
    enabled: true
    bucket: "external-cache"
    region: "eu-central-1"
    auth:
      existingSecret: "s3-credentials"

# Bitnami Redis disabled since using external
redis:
  enabled: false

# Application environment
env:
  TITILER_EOPF_CACHE_TTL_DEFAULT: "1800"

resources:
  requests:
    cpu: 500m
    memory: 1Gi
  limits:
    cpu: 2
    memory: 2Gi